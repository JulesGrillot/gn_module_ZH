<table class="table mb-4">
  <thead class="thead-inverse table-header">
    <tr>
      <!-- size can be provided in the columns object -->
      <th *ngFor="let col of tableCols"  [style.width]="col.size" >{{ col.label }}</th>
      <th *ngIf="editable || deletable || downloadable"></th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngIf="data && data.length > 0">
      <tr *ngFor="let item of data">
        <td *ngFor="let col of tableCols">
          <ul *ngIf="isArray(item[col.name]); else elseBlock">
            <li class="item" *ngFor="let item of item[col.name]">
              {{ item }}
            </li>
          </ul>
          <ng-template #elseBlock>
            {{ item[col.name] }}
          </ng-template>
        </td>
        <td 
          class="tab-buttons" 
          *ngIf="editable || deletable || downloadable">
          <ng-container *ngIf="editable">
            <button
              mat-icon-button
              class="mr-2"
              placement="top"
              ngbTooltip="Editer"
              (click)="onEditItem(item)"
            >
              <mat-icon class="edit-icon">edit</mat-icon>
            </button>
          </ng-container>
          <ng-container *ngIf="deletable">
            <button
              mat-icon-button
              class="mr-2"
              placement="top"
              ngbTooltip="Supprimer"
              (click)="onDeleteItem(content, item)"
            >
              <mat-icon class="delete-icon">close</mat-icon>
            </button>
          </ng-container>
          <ng-container *ngIf="downloadable">
            <button
              mat-icon-button
              class="mr-2"
              placement="top"
              ngbTooltip="Télécharger"
              (click)="onDownloadItem(item)"
            >
              <mat-icon class="download-icon">download</mat-icon>
            </button>
          </ng-container>
        </td>
      </tr>
    </ng-container>
    <tr *ngIf="!data || data.length == 0">
      <td colspan="100%">non renseigné</td>
    </tr>
  </tbody>
</table>
<ng-template #content let-c="close" let-d="dismiss">
  <zh-delete-modal (onCancel)="d()" (onDelete)=c()>
    <p>Etes-vous sûr de vouloir supprimer cette ligne ?</p>
  </zh-delete-modal>
</ng-template>